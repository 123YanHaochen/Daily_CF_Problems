**提示 1：** 板子中间非边缘的所有点都不重要，因为一定可以从边缘出发。

**提示 2：** 哪些边缘可以不用一起取？设计一个数据结构维护这件事。

首先，这个图形本身是 $10^6\times 10^6$ ，因此不能构建矩阵硬跑。

但是显然，非边缘的格子是无需考虑的，因为我们总能找到边缘的点使其能到达中间的格子。

于是，我们需要考虑的点集缩小到了 $10^6$ 量级。接下来，我们只需要确认哪些边缘的点是互相可达的即可。

为此我们只需要考虑每个点走两个斜线方向分别与什么点相撞即可，将相撞的店用并查集合并，最后统计连通块数量就完成了。

这种方法的复杂度为 $\mathcal{O}(n+m)$ ，若不考虑并查集的复杂度。

但这题也有数学解法。我们回忆之前平面镜的知识，反射的光路可以理解为从像发出来的光路。而我们现在有四个平面镜，因此可以确定对应的所有的像的位置，再分别作出两个方向的光，即可代表所有的可覆盖点。

发现平面镜的反射就类似于直线本身移动 $2\times(n-1)$ 或 $2\times(m-1)$ 或做了奇数次镜像。

前者可以保证 $2\mathrm{gcd}\gcd$

### 具体代码如下——

Python 做法如下——

```Python []
def main():
    def check(s):
        k = len(s)
        idx = -1
        for i in range(k):
            if ((i and ord(s[i]) - ord(s[i-1]) == 1) or (i < k - 1 and ord(s[i]) - ord(s[i+1]) == 1)) and (idx == -1 or s[i] > s[idx]):
                idx = i
        return idx

    n = II()
    s = I()

    ans = 0
    while True:
        idx = check(s)
        if idx == -1: break
        s = s[:idx]+ s[idx+1:]
        ans += 1

    print(ans)
```

C++ 做法如下——

```cpp []
TBD
```
