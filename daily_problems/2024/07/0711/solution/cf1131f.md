**提示 1：** 我们把整个过程想成挑选两个块，再把这两个块贴到一起。

**提示 2：** 接下来主要处理两件事：找到每个元素所在的块，把这两个块合并到一起去。

整个问题相当于挑选两个尚未连到一起的块，将其拼接到一起去，问最后的一整块可以如何。

于是我们只需模拟这一过程，接下来关键在两件事：找到每个元素所在的块，并合并。

由于涉及到合并的过程，这里可以直接使用并查集判断每个元素在哪一个块上，就完成了第一件事。

第二件事，当然我们整体是从 $n$ 个 $1$ 合并成一个 $n$ ，这件事可以通过启发式合并 $\mathcal{O}(n\log n)$ 解决。但还有效率更高的做法。

我们要做的是将两个结构顺序拼接，这件事很适合使用 **链表** 通过 $\mathcal{O}(1)$ 的时间复杂度完成。我们只需在维护并查集的过程中多维护一个链表的尾部，用于下一次的拼接即可。

时间复杂度为 $\mathcal{O}(n)$ ，认为并查集的操作是 $\mathcal{O}(1)$ 的。